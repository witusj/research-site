"0","# Simulation 4"
"0",""
"0","sim = np.array([1, 1, 1, 1, 1, 2, 0, 1, 1, 1, 1, 1]) # initial schedule"
"0","iats = fn.transform_schedule_iats(sim, d) # initial inter-arrival times"
"0","iats_d = np.diff(iats)"
"0","simreswt = []"
"0","simresln = 0"
"0",""
"0",""
"0","for i in range(nsims):"
"0","  experiment = fn.simulate_crn(iats, ctsm[i], stsm[i], logs=logs)"
"0","  simreswt.append(experiment[0].mean())"
"0","  ln = max(0, (experiment[1] - d))"
"0","  simresln += ln"
"0","  "
"0","  "
"0","mwt = np.array(simreswt).mean()"
"0","mln = simresln / nsims"
"0","loss = 0.5 * mwt + 0.5 * mln"
"0",""
"0","# plots"
"0",""
"0","fig1, (axs1, axs2) = plt.subplots(2, sharey=True, tight_layout=True)"
"0","axs1.plot(iats, label=""iats"")"
"1","[<matplotlib.lines.Line2D object at 0x152b06b20>]
"
"0","axs1.set_title(f'iats: {iats}')"
"1","Text(0.5, 1.0, 'iats: [ 0 15 15 15 15 15  0 30 15 15 15 15]')
"
"0","axs2.plot(iats_d, label=""iats_d"")"
"1","[<matplotlib.lines.Line2D object at 0x152b06d90>]
"
"0","axs2.set_title(f'iats_d: {iats_d}')"
"1","Text(0.5, 1.0, 'iats_d: [ 15   0   0   0   0 -15  30 -15   0   0   0]')
"
"0","fig2, axs3 = plt.subplots(1, sharey=True, tight_layout=True)"
"0","axs3.hist(simreswt, bins = 300)"
"1","(array([5.364e+03, 2.248e+03, 2.200e+03, 2.067e+03, 2.076e+03, 2.217e+03,
       2.510e+03, 2.913e+03, 3.420e+03, 3.686e+03, 3.891e+03, 4.022e+03,
       3.856e+03, 3.735e+03, 3.657e+03, 3.423e+03, 3.170e+03, 2.905e+03,
       2.784e+03, 2.619e+03, 2.441e+03, 2.286e+03, 2.100e+03, 1.931e+03,
       1.776e+03, 1.680e+03, 1.559e+03, 1.462e+03, 1.374e+03, 1.200e+03,
       1.072e+03, 1.047e+03, 1.013e+03, 9.040e+02, 9.270e+02, 8.500e+02,
       7.500e+02, 6.890e+02, 6.470e+02, 6.240e+02, 5.720e+02, 5.310e+02,
       4.590e+02, 4.810e+02, 4.590e+02, 4.170e+02, 3.600e+02, 3.510e+02,
       3.380e+02, 3.380e+02, 3.090e+02, 3.210e+02, 2.670e+02, 2.550e+02,
       2.220e+02, 2.200e+02, 2.410e+02, 2.030e+02, 1.980e+02, 1.910e+02,
       1.840e+02, 1.860e+02, 1.400e+02, 1.440e+02, 1.230e+02, 1.160e+02,
       1.330e+02, 1.260e+02, 1.200e+02, 1.010e+02, 1.020e+02, 1.120e+02,
       9.900e+01, 9.000e+01, 1.020e+02, 1.060e+02, 8.000e+01, 7.800e+01,
       6.600e+01, 7.300e+01, 7.700e+01, 8.500e+01, 6.200e+01, 5.600e+01,
       4.600e+01, 5.300e+01, 5.600e+01, 4.500e+01, 5.500e+01, 5.200e+01,
       3.900e+01, 4.900e+01, 4.300e+01, 4.200e+01, 3.500e+01, 3.300e+01,
       4.000e+01, 3.500e+01, 4.000e+01, 3.000e+01, 2.500e+01, 3.200e+01,
       3.500e+01, 2.100e+01, 2.100e+01, 2.400e+01, 2.600e+01, 2.400e+01,
       2.700e+01, 1.900e+01, 1.700e+01, 1.800e+01, 2.000e+01, 7.000e+00,
       2.800e+01, 1.100e+01, 2.300e+01, 9.000e+00, 1.800e+01, 1.800e+01,
       1.300e+01, 1.100e+01, 1.500e+01, 1.700e+01, 9.000e+00, 1.600e+01,
       1.400e+01, 1.400e+01, 1.000e+01, 1.300e+01, 1.300e+01, 6.000e+00,
       8.000e+00, 1.200e+01, 8.000e+00, 4.000e+00, 1.400e+01, 9.000e+00,
       6.000e+00, 7.000e+00, 9.000e+00, 1.400e+01, 8.000e+00, 6.000e+00,
       5.000e+00, 6.000e+00, 3.000e+00, 9.000e+00, 6.000e+00, 7.000e+00,
       5.000e+00, 7.000e+00, 3.000e+00, 4.000e+00, 4.000e+00, 6.000e+00,
       1.000e+00, 8.000e+00, 5.000e+00, 4.000e+00, 4.000e+00, 1.000e+00,
       6.000e+00, 5.000e+00, 3.000e+00, 1.000e+00, 4.000e+00, 5.000e+00,
       6.000e+00, 3.000e+00, 3.000e+00, 1.000e+00, 3.000e+00, 6.000e+00,
       3.000e+00, 4.000e+00, 2.000e+00, 2.000e+00, 2.000e+00, 3.000e+00,
       2.000e+00, 4.000e+00, 1.000e+00, 1.000e+00, 2.000e+00, 2.000e+00,
       1.000e+00, 3.000e+00, 2.000e+00, 5.000e+00, 2.000e+00, 1.000e+00,
       0.000e+00, 2.000e+00, 0.000e+00, 4.000e+00, 4.000e+00, 2.000e+00,
       1.000e+00, 0.000e+00, 2.000e+00, 1.000e+00, 3.000e+00, 2.000e+00,
       2.000e+00, 0.000e+00, 1.000e+00, 0.000e+00, 0.000e+00, 2.000e+00,
       1.000e+00, 0.000e+00, 1.000e+00, 2.000e+00, 3.000e+00, 0.000e+00,
       1.000e+00, 0.000e+00, 2.000e+00, 0.000e+00, 0.000e+00, 1.000e+00,
       0.000e+00, 0.000e+00, 1.000e+00, 1.000e+00, 2.000e+00, 1.000e+00,
       1.000e+00, 1.000e+00, 1.000e+00, 1.000e+00, 1.000e+00, 0.000e+00,
       2.000e+00, 1.000e+00, 0.000e+00, 1.000e+00, 0.000e+00, 0.000e+00,
       0.000e+00, 1.000e+00, 1.000e+00, 0.000e+00, 0.000e+00, 1.000e+00,
       0.000e+00, 1.000e+00, 0.000e+00, 0.000e+00, 0.000e+00, 0.000e+00,
       0.000e+00, 0.000e+00, 0.000e+00, 0.000e+00, 0.000e+00, 0.000e+00,
       0.000e+00, 0.000e+00, 0.000e+00, 0.000e+00, 0.000e+00, 0.000e+00,
       0.000e+00, 0.000e+00, 0.000e+00, 0.000e+00, 0.000e+00, 0.000e+00,
       0.000e+00, 0.000e+00, 1.000e+00, 0.000e+00, 0.000e+00, 1.000e+00,
       0.000e+00, 1.000e+00, 1.000e+00, 1.000e+00, 0.000e+00, 0.000e+00,
       0.000e+00, 0.000e+00, 0.000e+00, 0.000e+00, 0.000e+00, 0.000e+00,
       0.000e+00, 0.000e+00, 0.000e+00, 0.000e+00, 0.000e+00, 1.000e+00,
       1.000e+00, 0.000e+00, 0.000e+00, 0.000e+00, 0.000e+00, 1.000e+00]), array([ 0.        ,  0.1119723 ,  0.2239446 ,  0.3359169 ,  0.4478892 ,
        0.5598615 ,  0.6718338 ,  0.7838061 ,  0.8957784 ,  1.0077507 ,
        1.119723  ,  1.2316953 ,  1.3436676 ,  1.4556399 ,  1.5676122 ,
        1.6795845 ,  1.7915568 ,  1.9035291 ,  2.0155014 ,  2.1274737 ,
        2.23944599,  2.35141829,  2.46339059,  2.57536289,  2.68733519,
        2.79930749,  2.91127979,  3.02325209,  3.13522439,  3.24719669,
        3.35916899,  3.47114129,  3.58311359,  3.69508589,  3.80705819,
        3.91903049,  4.03100279,  4.14297509,  4.25494739,  4.36691969,
        4.47889199,  4.59086429,  4.70283659,  4.81480889,  4.92678119,
        5.03875349,  5.15072579,  5.26269809,  5.37467039,  5.48664269,
        5.59861499,  5.71058729,  5.82255959,  5.93453189,  6.04650419,
        6.15847649,  6.27044879,  6.38242109,  6.49439339,  6.60636568,
        6.71833798,  6.83031028,  6.94228258,  7.05425488,  7.16622718,
        7.27819948,  7.39017178,  7.50214408,  7.61411638,  7.72608868,
        7.83806098,  7.95003328,  8.06200558,  8.17397788,  8.28595018,
        8.39792248,  8.50989478,  8.62186708,  8.73383938,  8.84581168,
        8.95778398,  9.06975628,  9.18172858,  9.29370088,  9.40567318,
        9.51764548,  9.62961778,  9.74159008,  9.85356238,  9.96553468,
       10.07750698, 10.18947928, 10.30145158, 10.41342388, 10.52539618,
       10.63736848, 10.74934078, 10.86131307, 10.97328537, 11.08525767,
       11.19722997, 11.30920227, 11.42117457, 11.53314687, 11.64511917,
       11.75709147, 11.86906377, 11.98103607, 12.09300837, 12.20498067,
       12.31695297, 12.42892527, 12.54089757, 12.65286987, 12.76484217,
       12.87681447, 12.98878677, 13.10075907, 13.21273137, 13.32470367,
       13.43667597, 13.54864827, 13.66062057, 13.77259287, 13.88456517,
       13.99653747, 14.10850977, 14.22048207, 14.33245437, 14.44442667,
       14.55639897, 14.66837127, 14.78034357, 14.89231587, 15.00428817,
       15.11626047, 15.22823276, 15.34020506, 15.45217736, 15.56414966,
       15.67612196, 15.78809426, 15.90006656, 16.01203886, 16.12401116,
       16.23598346, 16.34795576, 16.45992806, 16.57190036, 16.68387266,
       16.79584496, 16.90781726, 17.01978956, 17.13176186, 17.24373416,
       17.35570646, 17.46767876, 17.57965106, 17.69162336, 17.80359566,
       17.91556796, 18.02754026, 18.13951256, 18.25148486, 18.36345716,
       18.47542946, 18.58740176, 18.69937406, 18.81134636, 18.92331866,
       19.03529096, 19.14726326, 19.25923556, 19.37120786, 19.48318016,
       19.59515245, 19.70712475, 19.81909705, 19.93106935, 20.04304165,
       20.15501395, 20.26698625, 20.37895855, 20.49093085, 20.60290315,
       20.71487545, 20.82684775, 20.93882005, 21.05079235, 21.16276465,
       21.27473695, 21.38670925, 21.49868155, 21.61065385, 21.72262615,
       21.83459845, 21.94657075, 22.05854305, 22.17051535, 22.28248765,
       22.39445995, 22.50643225, 22.61840455, 22.73037685, 22.84234915,
       22.95432145, 23.06629375, 23.17826605, 23.29023835, 23.40221065,
       23.51418295, 23.62615525, 23.73812755, 23.85009985, 23.96207214,
       24.07404444, 24.18601674, 24.29798904, 24.40996134, 24.52193364,
       24.63390594, 24.74587824, 24.85785054, 24.96982284, 25.08179514,
       25.19376744, 25.30573974, 25.41771204, 25.52968434, 25.64165664,
       25.75362894, 25.86560124, 25.97757354, 26.08954584, 26.20151814,
       26.31349044, 26.42546274, 26.53743504, 26.64940734, 26.76137964,
       26.87335194, 26.98532424, 27.09729654, 27.20926884, 27.32124114,
       27.43321344, 27.54518574, 27.65715804, 27.76913034, 27.88110264,
       27.99307494, 28.10504724, 28.21701954, 28.32899183, 28.44096413,
       28.55293643, 28.66490873, 28.77688103, 28.88885333, 29.00082563,
       29.11279793, 29.22477023, 29.33674253, 29.44871483, 29.56068713,
       29.67265943, 29.78463173, 29.89660403, 30.00857633, 30.12054863,
       30.23252093, 30.34449323, 30.45646553, 30.56843783, 30.68041013,
       30.79238243, 30.90435473, 31.01632703, 31.12829933, 31.24027163,
       31.35224393, 31.46421623, 31.57618853, 31.68816083, 31.80013313,
       31.91210543, 32.02407773, 32.13605003, 32.24802233, 32.35999463,
       32.47196693, 32.58393922, 32.69591152, 32.80788382, 32.91985612,
       33.03182842, 33.14380072, 33.25577302, 33.36774532, 33.47971762,
       33.59168992]), <BarContainer object of 300 artists>)
"
"0","axs3.set_title(f'schedule: {sim}, mwt: {mwt}, mln: {mln}, loss: {loss}')"
"1","Text(0.5, 1.0, 'schedule: [1 1 1 1 1 2 0 1 1 1 1 1], mwt: 2.3011140731401394, mln: 1.9556008605259814, loss: 2.1283574668330605')
"
